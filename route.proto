syntax = "proto2";

import "google/protobuf/timestamp.proto";
import "truck.proto";
import "driver.proto";
import "job.proto";

enum RouteStatus {
  ROUTE_STATUS_UNDEFINED = 0;
  ROUTE_STATUS_CREATED = 1;
  ROUTE_STATUS_IN_PROGRESS = 2;
  ROUTE_STATUS_COMPLETED = 3;
  ROUTE_STATUS_CANCELLED = 4;
}

message Route {
  required int64 id = 1;
  optional google.protobuf.Timestamp created_at = 2;
  required Driver driver = 3;
  required Truck truck = 4;
  required int64 company_id = 5;
  optional google.protobuf.Timestamp started_at = 6;
  required string created_by = 7;
  optional string modified_by = 8;
  required RouteStatus status = 9;
  required int32 num_completed_jobs = 10;
  optional double total_weight = 11;
  optional google.protobuf.Timestamp arrived_at_depot_at = 12;
  optional double truck_weight = 13;
  optional google.protobuf.Timestamp scaling_finished_at = 14;
  optional google.protobuf.Timestamp dumping_started_at = 15;
  optional google.protobuf.Timestamp dumping_finished_at = 16;
  repeated Job jobs = 17;
}