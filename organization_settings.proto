syntax = "proto2";
package raccoonai;

import "audit_logs.proto";
import "google/protobuf/timestamp.proto";

option go_package = "./pb";

message NotificationConfig {
  repeated AuditLogType log_types = 1 [json_name = "log_types"];
}

message ColumnConfig {
  required string column_name = 1 [json_name = "column_name"];
  required bool is_hidden = 2 [json_name = "is_hidden"];
  required uint32 order = 3 [json_name = "order"];
}

message TableConfig {
  required string table_name = 1 [json_name = "table_name"];
  repeated ColumnConfig columns = 2 [json_name = "columns"];
}

message TableColumnsConfig {
  repeated TableConfig tables = 1 [json_name = "tables"];
}

message OrganizationSettings {
  required uint64 id = 1 [json_name = "id"];
  optional string shift_departure_text = 3 [json_name = "shift_departure_text"];
  optional string shift_arrival_text = 4 [json_name = "shift_arrival_text"];
  optional string shift_working_schedule = 5 [json_name = "shift_working_schedule"];
  required google.protobuf.Timestamp created_at = 6 [json_name = "created_at"];
  required bool is_ai_driven = 7 [json_name = "is_ai_driven"];
  optional NotificationConfig notification_config = 8 [json_name = "notification_config"];
  optional double map_center_lat = 9 [json_name = "map_center_lat"];
  optional double map_center_lon = 10 [json_name = "map_center_lon"];
  optional bool ai_enabled = 11 [json_name = "ai_enabled"];
  optional TableColumnsConfig table_columns_config = 12 [json_name = "table_columns_config"];
}

message OrganizationSettingsCreate {
  required uint64 id = 1 [json_name = "id"];
  optional string shift_departure_text = 2 [json_name = "shift_departure_text"];
  optional string shift_arrival_text = 3 [json_name = "shift_arrival_text"];
  optional string shift_working_schedule = 4 [json_name = "shift_working_schedule"];
  optional bool is_ai_driven = 5 [json_name = "is_ai_driven"];
  optional NotificationConfig notification_config = 6 [json_name = "notification_config"];
  optional double map_center_lat = 7 [json_name = "map_center_lat"];
  optional double map_center_lon = 8 [json_name = "map_center_lon"];
  optional bool ai_enabled = 9 [json_name = "ai_enabled"];
  optional TableColumnsConfig table_columns_config = 10 [json_name = "table_columns_config"];
}

message OrganizationSettingsUpdate {
  required uint64 id = 1 [json_name = "id"];
  optional string shift_departure_text = 2 [json_name = "shift_departure_text"];
  optional string shift_arrival_text = 3 [json_name = "shift_arrival_text"];
  optional string shift_working_schedule = 4 [json_name = "shift_working_schedule"];
  optional bool is_ai_driven = 5 [json_name = "is_ai_driven"];
  optional NotificationConfig notification_config = 6 [json_name = "notification_config"];
  optional double map_center_lat = 7 [json_name = "map_center_lat"];
  optional double map_center_lon = 8 [json_name = "map_center_lon"];
  optional bool ai_enabled = 9 [json_name = "ai_enabled"];
  optional TableColumnsConfig table_columns_config = 10 [json_name = "table_columns_config"];
}
