syntax = "proto2";
package raccoonai;

import "contact.proto";
import "google/protobuf/timestamp.proto";

option go_package = "./pb";

enum OrganizationStatus {
  ORGANIZATION_STATUS_UNDEFINED = 0;
  ORGANIZATION_STATUS_INACTIVE = 1;
  ORGANIZATION_STATUS_ACTIVE = 2;
  ORGANIZATION_STATUS_GUEST = 3;
}

enum OrganizationType {
  ORGANIZATION_TYPE_UNDEFINED = 0;
  ORGANIZATION_TYPE_RACCOONAI = 1;
  ORGANIZATION_TYPE_SERVICE_PROVIDER = 2;
  ORGANIZATION_TYPE_SERVICE_RECEIVER = 3;
  ORGANIZATION_TYPE_DISPOSAL_SITE_OPERATOR = 4;
  ORGANIZATION_TYPE_GOVERNMENT = 5;
}

message Organization {
  required uint64 id = 1 [json_name = "id"];
  required google.protobuf.Timestamp created_at = 2 [json_name = "created_at"];
  required string name = 3 [json_name = "name"];
  required OrganizationType type = 4 [json_name = "type"];
  required OrganizationStatus status = 5 [json_name = "status"];
  optional uint64 bank_details_id = 6 [json_name = "bank_details_id"];
  optional string bin = 7 [json_name = "bin"];
  optional string phone_number = 8 [json_name = "phone_number"];
  optional string jur_address = 9 [json_name = "jur_address"];
  optional string fact_address = 10 [json_name = "fact_address"];
  repeated Contact contacts = 11 [json_name = "contacts"];
}

message OrganizationCreateItem {
  required string name = 1 [json_name = "name"];
  required OrganizationType type = 2 [json_name = "type"];
  optional uint64 bank_details_id = 3 [json_name = "bank_details_id"];
  optional string bin = 4 [json_name = "bin"];
  optional string phone_number = 5 [json_name = "phone_number"];
  optional string jur_address = 6 [json_name = "jur_address"];
  optional string fact_address = 7 [json_name = "fact_address"];
}

message ContractCreateItem {
  required google.protobuf.Timestamp end_at = 1 [json_name = "end_at"];
}

message OrganizationCreate {
  required string name = 1 [json_name = "name"];
  required OrganizationType type = 2 [json_name = "type"];
  optional uint64 bank_details_id = 3 [json_name = "bank_details_id"];
  optional string bin = 4 [json_name = "bin"];
  optional string jur_address = 5 [json_name = "jur_address"];
  optional string fact_address = 6 [json_name = "fact_address"];
}

message ServiceReceiverCreate {
  required OrganizationCreateItem organization = 1 [json_name = "organization"];
  optional ContractCreateItem contract = 2 [json_name = "contract"];
  optional uint64 service_provider_id = 3 [json_name = "service_provider_id"];
  optional string bin = 4 [json_name = "bin"];
}

message OrganizationUpdate {
  required uint64 id = 1 [json_name = "id"];
  optional string name = 2 [json_name = "name"];
  optional OrganizationStatus status = 3 [json_name = "status"];
  optional uint64 bank_details_id = 4 [json_name = "bank_details_id"];
  optional string bin = 5 [json_name = "bin"];
  optional string phone_number = 6 [json_name = "phone_number"];
  optional string jur_address = 7 [json_name = "jur_address"];
  optional string fact_address = 8 [json_name = "fact_address"];
}
