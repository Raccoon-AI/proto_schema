syntax = "proto2";
package raccoonai;

import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";

option go_package = "./pb";

enum LocationStatus {
  LOCATION_STATUS_UNDEFINED = 0;
  LOCATION_STATUS_INACTIVE = 1;
  LOCATION_STATUS_ACTIVE = 2;
}

enum LocationType {
  LOCATION_TYPE_UNDEFINED = 0;
  LOCATION_TYPE_DEPOT = 1;
  LOCATION_TYPE_DISPOSAL_SITE = 2;
  LOCATION_TYPE_GAS_STATION = 3;
}

message Location {
  required uint64 id = 1 [json_name = "id"];
  required google.protobuf.Timestamp created_at = 2 [json_name = "created_at"];
  required string name = 3 [json_name = "name"];
  required LocationType type = 4 [json_name = "type"];
  required uint64 owner_organization_id = 5 [json_name = "owner_organization_id"];
  required LocationStatus status = 6 [json_name = "status"];
  required double lon = 7 [json_name = "lon"];
  required double lat = 8 [json_name = "lat"];
  optional google.protobuf.Struct geometry = 9 [json_name = "geometry"];
  optional string address = 10 [json_name = "address"];
  required string polymorphic_type = 11 [json_name = "polymorphic_type"];
  optional string gis_link = 12 [json_name = "gis_link"];
  optional uint64 service_time = 13 [json_name = "service_time"];
}

message LocationCreate {
  required string name = 1 [json_name = "name"];
  required LocationType type = 2 [json_name = "type"];
  optional uint64 owner_organization_id = 3 [json_name = "owner_organization_id"];
  required double lon = 4 [json_name = "lon"];
  required double lat = 5 [json_name = "lat"];
  optional google.protobuf.Struct geometry = 6 [json_name = "geometry"];
  optional string address = 7 [json_name = "address"];
  optional string gis_link = 8 [json_name = "gis_link"];
  optional uint64 service_time = 9 [json_name = "service_time"];
}

message LocationUpdate {
  required uint64 id = 1 [json_name = "id"];
  optional string name = 2 [json_name = "name"];
  optional LocationType type = 3 [json_name = "type"];
  optional LocationStatus status = 4 [json_name = "status"];
  optional double lon = 5 [json_name = "lon"];
  optional double lat = 6 [json_name = "lat"];
  optional google.protobuf.Struct geometry = 7 [json_name = "geometry"];
  optional string address = 8 [json_name = "address"];
  optional string gis_link = 9 [json_name = "gis_link"];
  optional uint64 service_time = 10 [json_name = "service_time"];
}

message LocationList {
  repeated Location locations = 1 [json_name = "locations"];
}

message LocationRequest {
  required uint64 location_id = 1 [json_name = "location_id"];
}
