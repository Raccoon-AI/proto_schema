syntax = "proto2";
package raccoonai;

import "google/protobuf/timestamp.proto";

option go_package = "./pb";

enum ErrorCode {
  ERROR_CODE_UNDEFINED = 0;
  ERROR_CODE_PHONE_NUMBER_EXISTS = 1000;
  ERROR_CODE_EMAIL_EXISTS = 1001;
}

enum ResponseStatus {
  RESPONSE_STATUS_UNDEFINED = 0;
  RESPONSE_STATUS_OK = 1;
  RESPONSE_STATUS_NOT_FOUND = 2;
  RESPONSE_STATUS_SERVER_ERROR = 3;
}

message ErrorMessage {
  optional string message = 1 [json_name = "message"];
  optional ErrorCode code = 2 [json_name = "code"];
}

message MessageResponse {
  required ResponseStatus status = 1 [json_name = "status"];
  optional string message = 2 [json_name = "message"];
  optional ErrorMessage error = 3 [json_name = "error"];
}

message EmptyMessageRequest {}

message EmptyMessageResponse {}

message File {
  optional string bytes = 1 [json_name = "bytes"]; // base64-encoded image data
  optional string name = 2 [json_name = "name"];
  optional string format = 3 [json_name = "format"]; // e.g., "jpg", "png"
  optional float lat = 4 [json_name = "lat"];
  optional float lon = 5 [json_name = "lon"];
  optional google.protobuf.Timestamp ts = 6 [json_name = "ts"];
}
