syntax = "proto2";

package raccoonai;

import "general.proto";
import "organization.proto";
import "truck.proto";

option go_package = "./pb";

message OrganizationListRequest {
  optional OrganizationType type = 1;
  optional OrganizationStatus status = 2;
}

message OrganizationListResponse {
  repeated Organization organizations = 1;
}

message AddGuestRequest {
  required string org_name = 1;
  required string bin = 2;
  required string driver_first_name = 3;
  required string driver_last_name = 4;
  required string driver_phone_number = 5;
  optional string driver_license_number = 6;
  required string truck_plate_number = 7;
  required TruckType truck_type = 8;
}

message AddGuestResponse {
  required uint64 organization_id = 1;
  required uint64 driver_id = 2;
  required uint64 truck_id = 3;
}

message CreateGuestOrganizationRequest {
  required string org_name = 1;
  required string bin = 2;
}

message CreateGuestOrganizationResponse {
  required uint64 organization_id = 1;
}

message OrganizationRequest {
  required uint64 organization_id = 1;
}

service OrganizationService {
  rpc OrganizationList(OrganizationListRequest) returns (OrganizationListResponse) {}
  rpc AddGuest(AddGuestRequest) returns (AddGuestResponse) {}
  rpc ServiceProviderList(EmptyMessageRequest) returns (OrganizationListResponse) {}
  rpc GuestOrganizationList(EmptyMessageRequest) returns (OrganizationListResponse) {}
  rpc CreateGuestOrganization(CreateGuestOrganizationRequest) returns (CreateGuestOrganizationResponse) {}
  rpc ChildrenOrganizationList(EmptyMessageRequest) returns (OrganizationListResponse) {}
  rpc GetOrganization(OrganizationRequest) returns (Organization) {}
}
